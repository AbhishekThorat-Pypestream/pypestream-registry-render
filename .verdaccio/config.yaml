storage: /verdaccio/conf/storage
auth:
  htpasswd:
    file: ./htpasswd
notify:
  method: POST
  headers: [{ 'Content-Type': 'application/json' }]
  endpoint: https://deep-goat-49.deno.dev
  content: '{"color":"green","message":"New package published: * {{ name }}*","notify":true,"message_format":"text", "allSchema": [
    {{#each versions}}
      {{#each this.schemas}}
          "{{this}}"
          {{#if @last}} {{else}},{{/if}}
      {{/each}}
  {{/each}}] }'
uplinks:
  pypestream-npmjs:
    url: https://registry.npmjs.org/
    auth:
      type: bearer
      token_env: true # by defaults points to the environment variable `NPM_TOKEN`
  npmjs:
    url: https://registry.npmjs.org/

packages:
  "@pypestream/test-pkg":
    access: $all
    publish: $authenticated
    proxy: pypestream-npmjs
  "@pypestream/email-templates":
    access: $allg
    publish: $authenticated
    proxy: pypestream-npmjs
  "**":
    proxy: npmjs
    access: $all
    publish: $all
log: { type: stdout, format: pretty, level: http }
